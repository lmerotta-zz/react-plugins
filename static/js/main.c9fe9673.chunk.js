(this["webpackJsonpreact-plugins-example"]=this["webpackJsonpreact-plugins-example"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);n(9);var r=n(0),i=n.n(r),a=n(4),c=n.n(a),l=n(1),u=n(7),o=n(5),s=n(6),f=i.a.createContext({}),m=function(e){var t=e.children,n=e.store,a=Object(r.useMemo)((function(){return{store:n}}),[n]);return i.a.createElement(f.Provider,{value:a},t)},d=function(e){var t=e.section,n=function(e){var t=Object(r.useContext)(f).store,n=Object(r.useReducer)((function(e){return e+1}),0),a=Object(l.a)(n,2)[1];Object(r.useEffect)((function(){var e=t.subscribe((function(){a()}));return function(){e()}}));var c=t.getPluginsForSection(e);return Object(r.useMemo)((function(){return c.map((function(e){if(i.a.isValidElement(e))return e;var t=e;return i.a.createElement(t,null)}))}),[c])}(t);return i.a.createElement(i.a.Fragment,null,n.map((function(e,n){return i.a.createElement(i.a.Fragment,{key:"".concat(t,"-").concat(n)},e)})))},g=function(){return i.a.createElement("div",{style:{width:"calc(100% - 30px)",height:"90px",padding:"10px 15px",backgroundColor:"#95a5a6",display:"flex",alignItems:"center"}},i.a.createElement("h1",{style:{flex:10}},"Logo"),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flex:1}},i.a.createElement(d,{section:"sidebar"})))},p=function(e){var t=e.children;return i.a.createElement("div",{style:{flex:1,padding:"0 15px"}},t)},h=new(function(){function e(){Object(o.a)(this,e),this.sections={},this.listeners=[]}return Object(s.a)(e,[{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"registerPlugin",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this.sections[e]||[];-1!==a.findIndex((function(e){return e.name===n}))?this.sections[e]=a.map((function(e){return e.name===n?{component:t,priority:i,name:n}:e})):this.sections[e]=[].concat(Object(u.a)(a),[{component:t,priority:i,name:n}]),this.listeners.forEach((function(e){return e(r.sections)}))}},{key:"removePlugin",value:function(e,t){var n=this,r=this.sections[e]||[];this.sections[e]=r.filter((function(e){return e.name!==t})),this.listeners.forEach((function(e){return e(n.sections)}))}},{key:"getPluginsForSection",value:function(e){var t=this.sections[e];return!t||t.length<1?[]:t.sort((function(e,t){return e.priority-t.priority})).map((function(e){return e.component}))}}]),e}()),b=function(){return i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return alert("Billing clicked")}},i.a.createElement("b",null,"Billing"))},E=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){n?h.registerPlugin("sidebar",b,"billing-widget",0):h.removePlugin("sidebar","billing-widget")})),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("h2",null,"Billing section"),i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:n,onChange:function(e){return a(e.target.checked)}})," ","Toggle the billing module on/off"))},v=function(e){var t=e.badgeCount;return i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("b",null,"Admin"),i.a.createElement("span",{style:{backgroundColor:"red",color:"white",width:"27px",height:"25px",fontSize:"11px",fontWeight:"bold",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",position:"absolute",top:"-90%",left:"90%"}},t>99?"99+":t))},y=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){h.registerPlugin("sidebar",i.a.createElement(v,{badgeCount:n}),"admin-widget",-100)})),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("h2",null,"Admin section"),i.a.createElement("p",null,"Set number of badges in the widget"),i.a.createElement("input",{type:"number",step:"1",min:"0",value:n,onChange:function(e){return a(parseInt(e.target.value,10)||0)}}))},x=function(){return i.a.createElement("div",{style:{width:"100vw",minHeight:"100vh",display:"flex",flexDirection:"column"}},i.a.createElement(g,null),i.a.createElement(p,null,i.a.createElement(E,null),i.a.createElement(y,null)))};c.a.render(i.a.createElement(r.Suspense,{fallback:"Loading..."},i.a.createElement(m,{store:h},i.a.createElement(x,null))),document.getElementById("root"))},8:function(e,t,n){e.exports=n(16)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.c9fe9673.chunk.js.map