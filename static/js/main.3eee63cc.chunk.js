(this["webpackJsonpreact-plugins-example"]=this["webpackJsonpreact-plugins-example"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);n(9);var i=n(0),r=n.n(i),a=n(4),c=n.n(a),l=n(1),o=n(7),u=n(5),s=n(6),f=new(function(){function e(){Object(u.a)(this,e),this.sections={},this.listeners=[]}return Object(s.a)(e,[{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"registerPlugin",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this.sections[e]||[];-1!==a.findIndex((function(e){return e.name===n}))?this.sections[e]=a.map((function(e){return e.name===n?{component:t,priority:r,name:n}:e})):this.sections[e]=[].concat(Object(o.a)(a),[{component:t,priority:r,name:n}]),this.listeners.forEach((function(e){return e(i.sections)}))}},{key:"removePlugin",value:function(e,t){var n=this,i=this.sections[e]||[];this.sections[e]=i.filter((function(e){return e.name!==t})),this.listeners.forEach((function(e){return e(n.sections)}))}},{key:"getPluginsForSection",value:function(e){var t=this.sections[e];return!t||t.length<1?[]:t.sort((function(e,t){return e.priority-t.priority})).map((function(e){return e.component}))}}]),e}()),m=r.a.createContext({}),d=function(e){var t=e.children,n=Object(i.useMemo)((function(){return{store:f}}),[f]);return r.a.createElement(m.Provider,{value:n},t)},g=function(e){var t=e.section,n=Object(i.useContext)(m).store,a=Object(i.useReducer)((function(e){return e+1}),0),c=Object(l.a)(a,2)[1];return Object(i.useEffect)((function(){var e=n.subscribe((function(){c()}));return function(){e()}})),r.a.createElement(r.a.Fragment,null,n.getPluginsForSection(t).map((function(e,n){if(r.a.isValidElement(e))return r.a.createElement(r.a.Fragment,{key:"".concat(t,"-").concat(n,"-element")},e);var i=e;return r.a.createElement(i,{key:"".concat(t,"-").concat(n,"-element")})})))},p=function(){return r.a.createElement("div",{style:{width:"calc(100% - 30px)",height:"90px",padding:"10px 15px",backgroundColor:"#95a5a6",display:"flex",alignItems:"center"}},r.a.createElement("h1",{style:{flex:10}},"Logo"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flex:1}},r.a.createElement(g,{section:"sidebar"})))},h=function(e){var t=e.children;return r.a.createElement("div",{style:{flex:1,padding:"0 15px"}},t)},b=function(){return r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return alert("Billing clicked")}},r.a.createElement("b",null,"Billing"))},E=function(){var e=Object(i.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){n?f.registerPlugin("sidebar",b,"billing-widget",0):f.removePlugin("sidebar","billing-widget")})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h2",null,"Billing section"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(e){return a(e.target.checked)}})," ","Toggle the billing module on/off"))},v=function(e){var t=e.badgeCount;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("b",null,"Admin"),r.a.createElement("span",{style:{backgroundColor:"red",color:"white",width:"27px",height:"25px",fontSize:"11px",fontWeight:"bold",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",position:"absolute",top:"-90%",left:"90%"}},t>99?"99+":t))},y=function(){var e=Object(i.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){f.registerPlugin("sidebar",r.a.createElement(v,{badgeCount:n}),"admin-widget",-100)})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h2",null,"Admin section"),r.a.createElement("p",null,"Set number of badges in the widget"),r.a.createElement("input",{type:"number",step:"1",min:"0",value:n,onChange:function(e){return a(parseInt(e.target.value,10)||0)}}))},x=function(){return r.a.createElement("div",{style:{width:"100vw",minHeight:"100vh",display:"flex",flexDirection:"column"}},r.a.createElement(p,null),r.a.createElement(h,null,r.a.createElement(E,null),r.a.createElement(y,null)))};c.a.render(r.a.createElement(i.Suspense,{fallback:"Loading..."},r.a.createElement(d,null,r.a.createElement(x,null))),document.getElementById("root"))},8:function(e,t,n){e.exports=n(16)},9:function(e,t,n){}},[[8,1,2]]]);
//# sourceMappingURL=main.3eee63cc.chunk.js.map